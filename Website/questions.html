<!DOCTYPE html>
<!--
  questions.html
-->
<html>
  <head>
    <link rel="stylesheet" href="stylesQ.css"/>
    <link rel="js" href="results.js"/>
    <title>Diagnosis Test</title>
  </head>
  <body>
    <section id="back">
        <a href="main.html"><button id="backMain">Main Page</button></a>
        <h1 id="head">Welcome to the Diagnosis Test!</h1>
    </section>
    <p id="answer">Answer the questions as best you can, 5 being the highest</p>

    <section id="allQuiz">
        <section id="quiz">

            <h4>How interested are you in the internet?</h4>
            <ul class="choices">
                <li>
                    <label
                        ><input type="radio" name="question0" value="1" /><span
                            >1</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question0" value="2" /><span
                            >2</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question0" value="3" /><span
                            >3</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question0" value="4" /><span
                            >4</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question0" value="5" /><span
                            >5</span
                        ></label>
                </li>
            </ul>
        </li>
        <li>
        <h4>How interested are you in Personal Computer software/hardware?</h4>
            <ul class="choices">
                <li>
                    <label
                        ><input type="radio" name="question1" value="1" /><span
                            >1</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question1" value="2" /><span
                            >2</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question1" value="3" /><span
                            >3</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question1" value="4" /><span
                            >4</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question1" value="5" /><span
                            >5</span
                        ></label>
                </li>
            </ul>
        </li>
        <li>
        <h4>How interested are you in reading?</h4>
            <ul class="choices">
                <li>
                    <label
                        ><input type="radio" name="question2" value="1" /><span
                            >1</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question2" value="2" /><span
                            >2</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question2" value="3" /><span
                            >3</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question2" value="4" /><span
                            >4</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question2" value="5" /><span
                            >5</span
                        ></label>
                </li>
            </ul>
        </li>
        <li>
        <h4>How interested are you in dancing?</h4>
            <ul class="choices">
                <li>
                    <label
                        ><input type="radio" name="question3" value="1" /><span
                            >1</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question3" value="2" /><span
                            >2</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question3" value="3" /><span
                            >3</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question3" value="4" /><span
                            >4</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question3" value="5" /><span
                            >5</span
                        ></label>
                </li>
            </ul>
        </li>
        <li>
        <h4>How interested are you in musical instruments?</h4>
            <ul class="choices">
                <li>
                    <label
                        ><input type="radio" name="question4" value="1" /><span
                            >1</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question4" value="2" /><span
                            >2</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question4" value="3" /><span
                            >3</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question4" value="4" /><span
                            >4</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question4" value="5" /><span
                            >5</span
                        ></label>
                </li>
            </ul>
        </li>
        <li>
        <h4>How interested are you in writing?</h4>
            <ul class="choices">
                <li>
                    <label
                        ><input type="radio" name="question5" value="1" /><span
                            >1</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question5" value="2" /><span
                            >2</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question5" value="3" /><span
                            >3</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question5" value="4" /><span
                            >4</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question5" value="5" /><span
                            >5</span
                        ></label>
                </li>
            </ul>
        </li>
        <li>
        <h4>How interested are you in sports and leisure activities?</h4>
            <ul class="choices">
                <li>
                    <label
                        ><input type="radio" name="question6" value="1" /><span
                            >1</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question6" value="2" /><span
                            >2</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question6" value="3" /><span
                            >3</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question6" value="4" /><span
                            >4</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question6" value="5" /><span
                            >5</span
                        ></label>
                </li>
            </ul>
        </li>
        <li>
        <h4>How interested are you in sports at a competetive level?</h4>
            <ul class="choices">
                <li>
                    <label
                        ><input type="radio" name="question7" value="1" /><span
                            >1</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question7" value="2" /><span
                            >2</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question7" value="3" /><span
                            >3</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question7" value="4" /><span
                            >4</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question7" value="5" /><span
                            >5</span
                        ></label>
                </li>
            </ul>
        </li>
        <li>
        <h4>How enjoyable is socializing for you?</h4>
            <ul class="choices">
                <li>
                    <label
                        ><input type="radio" name="question8" value="1" /><span
                            >1</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question8" value="2" /><span
                            >2</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question8" value="3" /><span
                            >3</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question8" value="4" /><span
                            >4</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question8" value="5" /><span
                            >5</span
                        ></label>
                </li>
            </ul>
        </li>
        <li>
        <h4>How interested are you in keeping pets?</h4>
            <ul class="choices">
                <li>
                    <label
                        ><input type="radio" name="question9" value="1" /><span
                            >1</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question9" value="2" /><span
                            >2</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question9" value="3" /><span
                            >3</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question9" value="4" /><span
                            >4</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question9" value="5" /><span
                            >5</span
                        ></label>
                </li>
            </ul>
        </li>
        <li>
        <h4>Smoking Habits?</h4>
            <ul class="choices">
                <li>
                    <label
                        ><input type="radio" name="question10" value="1" /><span
                            >Never Smoked</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question10" value="2" /><span
                            >Tried Smoking</span
                        ></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question10" value="3" /><span
                            >Former Smoker</span></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question10" value="4" /><span
                            >Current Smoker</span></label>
                </li>
            </ul>
        </li>
        <li>
        <h4>Drinking Habits?</h4>
            <ul class="choices">
                <li>
                    <label
                        ><input type="radio" name="question11" value="1" /><span
                            >Never Drank</span></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question11" value="2" /><span
                            >Social Drinker</span></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question11" value="3" /><span
                            >Drink Often</span></label>
                </li>
            </ul>
        </li>
        </section>
        <section id="rank">
        <li>
            <h4>I have a healthy diet.</h4>
                <ul class="choices">
                    <li>
                        <label
                            ><input type="radio" name="question12" value="1" /><span
                                >1</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question12" value="2" /><span
                                >2</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question12" value="3" /><span
                                >3</span></label>
                    </li>
                    <li>
                    <label
                        ><input type="radio" name="question12" value="4" /><span
                            >4</span></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question12" value="5" /><span
                            >5</span></label>
                </li>
            </ul>
        </li>
        <li>
            <h4>I take notice of what goes on around me.</h4>
                <ul class="choices">
                    <li>
                        <label
                            ><input type="radio" name="question13" value="1" /><span
                                >1</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question13" value="2" /><span
                                >2</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question13" value="3" /><span
                                >3</span></label>
                    </li>
                    <li>
                    <label
                        ><input type="radio" name="question13" value="4" /><span
                            >4</span></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question13" value="5" /><span
                            >5</span></label>
                </li>
            </ul>
        </li>
        <li>
            <h4>I try to do tasks as soon as possible and not leave them until the last minute.</h4>
                <ul class="choices">
                    <li>
                        <label
                            ><input type="radio" name="question14" value="1" /><span
                                >1</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question14" value="2" /><span
                                >2</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question14" value="3" /><span
                                >3</span></label>
                    </li>
                    <li>
                    <label
                        ><input type="radio" name="question14" value="4" /><span
                            >4</span></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question14" value="5" /><span
                            >5</span></label>
                </li>
            </ul>
        </li>
        <li>
            <h4>I always make a list so I don't forget anything.</h4>
                <ul class="choices">
                    <li>
                        <label
                            ><input type="radio" name="question15" value="1" /><span
                                >1</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question15" value="2" /><span
                                >2</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question15" value="3" /><span
                                >3</span></label>
                    </li>
                    <li>
                    <label
                        ><input type="radio" name="question15" value="4" /><span
                            >4</span></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question15" value="5" /><span
                            >5</span></label>
                </li>
            </ul>
        </li>
        <li>
            <h4>I often work or study even in my spare time.</h4>
                <ul class="choices">
                    <li>
                        <label
                            ><input type="radio" name="question16" value="1" /><span
                                >1</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question16" value="2" /><span
                                >2</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question16" value="3" /><span
                                >3</span></label>
                    </li>
                    <li>
                    <label
                        ><input type="radio" name="question16" value="4" /><span
                            >4</span></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question16" value="5" /><span
                            >5</span></label>
                </li>
            </ul>
        </li>
        <li>
            <h4>I look at things from all different angles before I go ahead.</h4>
                <ul class="choices">
                    <li>
                        <label
                            ><input type="radio" name="question17" value="1" /><span
                                >1</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question17" value="2" /><span
                                >2</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question17" value="3" /><span
                                >3</span></label>
                    </li>
                    <li>
                    <label
                        ><input type="radio" name="question17" value="4" /><span
                            >4</span></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question17" value="5" /><span
                            >5</span></label>
                </li>
            </ul>
        </li>
        <li>
            <h4>I have lots of friends.</h4>
                <ul class="choices">
                    <li>
                        <label
                            ><input type="radio" name="question18" value="1" /><span
                                >1</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question18" value="2" /><span
                                >2</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question18" value="3" /><span
                                >3</span></label>
                    </li>
                    <li>
                    <label
                        ><input type="radio" name="question18" value="4" /><span
                            >4</span></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question18" value="5" /><span
                            >5</span></label>
                </li>
            </ul>
        </li>
        <li>
            <h4>I try to do tasks as soon as possible and not leave them until the last minute.</h4>
                <ul class="choices">
                    <li>
                        <label
                            ><input type="radio" name="question19" value="1" /><span
                                > I am often early</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question19" value="2" /><span
                                >I am always on time</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question19" value="3" /><span
                                > I am often running late</span></label>
                    </li>

            </ul>
        </li>
        <li>
            <h4>I am not afraid to give my opinion if I feel strongly about something.</h4>
                <ul class="choices">
                    <li>
                        <label
                            ><input type="radio" name="question20" value="1" /><span
                                >1</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question20" value="2" /><span
                                >2</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question20" value="3" /><span
                                >3</span></label>
                    </li>
                    <li>
                    <label
                        ><input type="radio" name="question20" value="4" /><span
                            >4</span></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question20" value="5" /><span
                            >5</span></label>
                </li>
            </ul>
        </li>
        <li>
            <h4>I have many different hobbies.</h4>
                <ul class="choices">
                    <li>
                        <label
                            ><input type="radio" name="question21" value="1" /><span
                                >1</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question21" value="2" /><span
                                >2</span></label>
                    </li>
                    <li>
                        <label
                            ><input type="radio" name="question21" value="3" /><span
                                >3</span></label>
                    </li>
                    <li>
                    <label
                        ><input type="radio" name="question21" value="4" /><span
                            >4</span></label>
                </li>
                <li>
                    <label
                        ><input type="radio" name="question21" value="5" /><span
                            >5</span></label>
                </li>
            </ul>
        </li>
        <li>
            <h4>How much time do you spend online?</h4>
            <ul class="choices">
            <li>
                <label
                    ><input type="radio" name="question22" value="1" /><span
                        >No time at all</span></label>
            </li>
            <li>
                <label
                    ><input type="radio" name="question22" value="2" /><span
                        >Less than an hour</span></label>
            </li>
            <li>
                <label
                    ><input type="radio" name="question22" value="3" /><span
                        > Few hours a day</span></label>
            </li>
            <li>
                <label
                    ><input type="radio" name="question22" value="4" /><span
                        >Most of the day</span></label>
                </li>
        </section>
    </section>

    <section id="end">
    <a href="results.html"><button class="view-results" onclick="returnScore()">View Results</button></a>
    <button class="view-results" onclick="returnScore()">Log Answers to Console</button>

    <button onclick="sendMessage()">Send Message</button>

    <script>
        const result = [];

        function returnScore() {
            for (let i = 0; i <= 22; i++) {
                const res = document.querySelector('input[name="question' + i + '"]:checked');
                if (res) {
                    result.push(res.value);
                } else {
                    result.push(0);
                }
            }

            console.log(result);

            temp = JSON.parse('['+ JSON.stringify(result) + ']');

            while (result.length > 0) {
                result.pop();
            }

            return temp;
        }

        const socket = new WebSocket('ws://localhost:6969');

        // Event listener for when the connection is established
        socket.addEventListener('open', (event) => {
            console.log('WebSocket connection opened:', event);
        });

        // Function to send a message to the WebSocket
        function sendMessage() {
            console.log(returnScore())
            const messageToSend = returnScore().toString();
            console.log('Sending message:', messageToSend);
            socket.send(messageToSend);
        }

        // Event listener for when the connection is closed
        socket.addEventListener('close', (event) => {
            console.log('WebSocket connection closed:', event);
        });

        // Event listener for when an error occurs
        socket.addEventListener('error', (event) => {
            console.error('WebSocket error:', event);
        });

        // Event listener for when a message is received from the server
        socket.addEventListener('message', (event) => {
            const receivedMessage = event.data;
            console.log('Received message:', receivedMessage);

            // Save the received message to a variable or perform any desired action
            // For simplicity, we'll just log it to the console
            // You can replace this with code to save the message to a variable or update the DOM

            // Define the base URL of the webpage you want to open
            const baseUrl = 'resultsPage.html';

            // Define the arguments as key-value pairs
            const arguments = {
                param1: receivedMessage
            };

            // Construct the URL with arguments
            const urlWithArguments = constructUrlWithArguments(baseUrl, arguments);

            // Open the webpage in a new window/tab
            window.open(urlWithArguments, '_blank');

        });

        function constructUrlWithArguments(baseUrl, arguments) {
            // Construct the query string with the arguments
            const queryString = Object.keys(arguments).map(key => `${encodeURIComponent(key)}=${encodeURIComponent(arguments[key])}`).join('&');

            // Append the query string to the base URL
            return `${baseUrl}?${queryString}`;
        }

        </script>
    </section>

  </body>
</html>